function L(o){window.enmity.plugins.registerPlugin(o)}const l={byProps:(...o)=>window.enmity.modules.filters.byProps(...o),byName:(o,n)=>window.enmity.modules.filters.byName(o,n),byTypeName:(o,n)=>window.enmity.modules.filters.byTypeName(o,n),byDisplayName:(o,n)=>window.enmity.modules.filters.byDisplayName(o,n)};function x(...o){return window.enmity.modules.bulk(...o)}function r(...o){return window.enmity.modules.getByProps(...o)}const D=window.enmity.modules.common,V=window.enmity.modules.common.Constants,S=window.enmity.modules.common.Clipboard;window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const t=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const C=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const f=window.enmity.modules.common.Navigation;window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const R=window.enmity.modules.common.StyleSheet,s=window.enmity.modules.common.ColorMap;window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function M(o){return window.enmity.patcher.create(o)}function c(o){return window.enmity.assets.getIDByName(o)}function O(o,n,i){return window.enmity.utilities.findInReactTree(o,n,i)}var _="ViewRaw",z="1.0.0",H="View raw message data",G=[{name:"sapphire",id:"757982547861962752"}],T={name:_,version:z,description:H,authors:G};const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList;const J=e.Image;e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl;const K=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable,e.View,e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;const{ActionSheetRow:a}=r("ActionSheetRow"),{FormRow:E}=r("FormRow");var U=({label:o,icon:n,onPress:i})=>{const m=R.createThemedStyleSheet({iconComponent:{width:24,height:24,tintColor:s.colors.INTERACTIVE_NORMAL}});return a?t.createElement(a,{label:o,icon:t.createElement(a.Icon,{source:n,IconComponent:()=>t.createElement(J,{resizeMode:"cover",style:m.iconComponent,source:n})}),onPress:i}):t.createElement(E,{label:o,leading:t.createElement(E.Icon,{source:n}),onPress:i})};const W=o=>{const n=JSON.parse(JSON.stringify(o));for(const i in n.author)switch(i){case"email":case"phone":case"mfaEnabled":case"hasBouncedEmail":delete n.author[i]}return n},d=D.ReactNative,v=R.createThemedStyleSheet({codeBlock:{fontFamily:V.Fonts.CODE_SEMIBOLD,fontSize:12,textAlignVertical:"center",backgroundColor:s.colors.BACKGROUND_SECONDARY,color:s.colors.TEXT_NORMAL,borderWidth:1,borderRadius:4,borderColor:s.colors.BACKGROUND_TERTIARY,padding:10}}),Y=({style:o,children:n})=>t.createElement(d.TextInput,{editable:!1,multiline:!0,style:[v.codeBlock,o&&o],value:n}),F=({selectable:o,style:n,children:i})=>t.createElement(d.Text,{selectable:o,style:[v.codeBlock,n&&n]},i);var N=({selectable:o,style:n,children:i})=>o?d.Platform.select({ios:t.createElement(Y,{style:n,children:i}),default:t.createElement(F,{style:n,children:i,selectable:!0})}):t.createElement(F,{style:n,children:i});const P=r("Looks","Colors","Sizes");function $({message:o}){const n=t.useMemo(()=>JSON.stringify(W(o),null,4),[o.id]),i={marginBottom:8};return t.createElement(t.Fragment,null,t.createElement(K,{style:{flex:1,marginHorizontal:14,marginVertical:10}},t.createElement(P,{style:i,text:"Copy Raw Content",color:"brand",size:"small",disabled:!o.content,onPress:()=>{S.setString(o.content),C.open({content:"Copied content to clipboard",source:c("toast_copy_link")})}}),t.createElement(P,{style:i,text:"Copy Raw Data",color:"brand",size:"small",onPress:()=>{S.setString(n),C.open({content:"Copied data to clipboard",source:c("toast_copy_link")})}}),o.content&&t.createElement(N,{selectable:!0,style:i},o.content),t.createElement(N,{selectable:!0},n)))}const[A,{getHeaderCloseButton:X},{Navigator:j}]=x(l.byProps("openLazy","hideActionSheet"),l.byProps("getHeaderCloseButton"),l.byProps("Navigator")),w=M(T.name),q={...T,onStart(){w.before(A,"openLazy",(o,[n,i,m])=>{const u=m==null?void 0:m.message;i!=="MessageLongPressActionSheet"||!u||n.then(B=>{const k=w.after(B,"default",(Q,Z,y)=>{t.useEffect(()=>()=>{k()},[]);const p=O(y,g=>{var h,b;return((b=(h=g==null?void 0:g[0])==null?void 0:h.type)==null?void 0:b.name)==="ButtonRow"});if(!p)return y;const I=()=>t.createElement(j,{initialRouteName:"RawPage",goBackOnBackPress:!0,screens:{RawPage:{title:"ViewRaw",headerLeft:X(()=>f.pop()),render:()=>t.createElement($,{message:u})}}});p.push(t.createElement(U,{label:"View Raw",icon:c("ic_chat_bubble_16px"),onPress:()=>{A.hideActionSheet(),f.push(I)}}))})})})},onStop(){w.unpatchAll()}};L(q);
